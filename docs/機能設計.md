# 会員登録サイト 機能設計書

## 1. 会員登録サイト概要

### 1.1. 目的

東海地方、特に名古屋を中心とした地域の学生と、優良な地元企業とのマッチング

### 1.2. ターゲットユーザー

- **学生**: 地域での就職・インターンを希望する大学生・専門学生など。
- **企業**: 上記学生の採用を希望する地元企業。

### 1.3. 主要技術スタック

- **認証**: Auth0
- **データベース**: Supabase
- **フロント・バック**: Next.js
- **デプロイ**: Vercel

---

## 2. ユーザー定義・ペルソナ

### 2.1. 学生ユーザー

- **属性**: 名古屋市内の大学3年生。
- **ゴール**: 「地元で長期インターンをしてみたいが、探し方がわからない。自分に合う面白そうな企業を見つけたい。」
- **課題**: 大手ナビサイトでは情報が多すぎる。企業のリアルな雰囲気が知りたい。

### 2.2. 企業ユーザー

- **属性**: 西三河にある従業員50名のメーカーの人事担当者。
- **ゴール**: 「大手ナビサイトは費用が高い。地元の意欲ある学生に効率的にアプローチし、自社の魅力を伝えたい。」
- **課題**: 知名度が低いため応募が集まりにくい。採用業務に多くの時間を割けない。

### 2.3. プラットフォーム管理者

- **属性**: オルキャリの運営担当者。
- **ゴール**: 「プラットフォームの品質を保ち、学生と企業双方に価値を提供する。問題発生時に迅速に対応したい。」

---

## 3. 機能一覧

### 3.1. 共通機能

#### ナビゲーションバー

- ロゴ、企業一覧、求人検索、インターンシップへのリンク。
- ログインボタン（クリックでAuth0認証画面へ）。
- ハンバーガーメニュー（1024px以下で表示）。
- **【追記・要検討】**:
  - 新規登録ボタンはナビゲーションバーに別途設置するか？（Auth0のログイン画面に統合可能）
  - 未ログインユーザーはどこまでのページ（一覧ページなど）にアクセス可能とするか？

#### フッター

- サイトマップ、運営会社情報、利用規約、プライバシーポリシーへのリンク。

### 3.2. 学生向け機能

#### 3.2.1. トップページ (/)

- ヒーロースライダー
- 各一覧ページへの導線ボタン
- 注目の求人
  - **【追記・要検討】**: 「注目」のロジックは？（新着、PV数、運営のおすすめなどを組み合わせる？）
- キーワード検索
  - **【追記・要検討】**: 検索対象は？（求人、企業、インターンを横断検索する？）

#### 3.2.2. 企業一覧ページ (/companies/)

- **検索条件**（以下の内容を選択のち，「検索する」ボタンで絞り込み）
  - キーワード検索
  - エリア検索（愛知県（名古屋．東三河，西三河，尾張），静岡など．）
  - 業界選択（メーカー．商社，小売．金融，ITなど）
- **並び替え**（掲載順，お気に入り数順）
- **企業カード表示**: カバー画像、ロゴ、企業名、業界，業種、所在地
- 学生向け記事（広告的な配置，WordPressへのリンク）
- イベント情報（広告的な配置）
- お気に入りボタン登録/解除

#### 3.2.3. 求人検索ページ (/jobs/)

- **検索条件**（以下の内容を選択のち，「検索する」ボタンで絞り込み）
  - キーワード検索
  - エリア検索（愛知県（名古屋．東三河，西三河，尾張），静岡など．）
  - 業界選択（メーカー．商社，小売．金融，ITなど）
  - 業種選択（事務，営業，技術など）
  - 福利厚生条件（週休2日制．年間休日120日以上など）
  - 勤務形態条件（フレックス制度．リモート可能など）
- **並び替え**（掲載順，お気に入り数順）
- 結果件数表示
- **求人カード表示内容**:
  - 画像，ロゴ、タイトル、会社名、勤務地、給与、概要、タグ、詳細ボタン
- 学生向け記事（広告的な配置，WordPressへのリンク）
- イベント情報（広告的な配置）

#### 3.2.4. 長期インターン検索ページ (/internships/)

- **検索条件**（以下の内容を選択のち，「検索する」ボタンで絞り込み）
  - キーワード検索
  - エリア検索（愛知県（名古屋．東三河，西三河，尾張），静岡など．）
  - 業界選択（メーカー．商社，小売．金融，ITなど）
  - 業種選択（事務，営業，技術など）
  - こだわり条件検索（27卒，28卒など学年の指定）
- **並び替え**（掲載順，お気に入り数順）
- 結果件数表示
- **求人カード表示内容**:
  - 画像，ロゴ、タイトル、会社名、勤務地、給与、概要、タグ、詳細ボタン
- 学生向け記事（広告的な配置，WordPressへのリンク）
- イベント情報（広告的な配置）

#### 3.2.5. 統合詳細ページ (/detail/{id}/)

- 企業情報をキーに、4つのタブで情報を一元化。
- **タブ構成**: ①企業情報、②長期インターン、③本選考、④応募方法
- **応募方法**: LINE公式アカウントへの誘導を主とする。
- **インタラクション**:
  - SNS共有機能 → なくても良い
  - お気に入り登録/解除（ログイン必須）→ これは欲しい
- **【追記・要検討】**:
  - どの操作からログインを必須とするか？（お気に入り登録からが一般的）
  - 応募タブの中のLINE誘導ボタンは常に表示，未認証状態ならクリック時にログインへ遷移する

#### 3.2.6. マイページ（学生） (/mypage/{id}/)

- LINE応募が主でも、サイト上での活動履歴は重要。
- **プロフィール編集**:
  - 基本情報（氏名、ふりがな、大学、学部、学科、卒業年、電話番号、住所、郵便番号、生年月日）→全て必須
  - 詳細情報（自己PR、ガクチカ、保有スキル、資格、ポートフォリオURLなど）→全て必須でない
- **応募履歴**:
  - 応募（LINE誘導ボタンをクリック）した求人/インターンの一覧。
  - メモ： 公式LINEの設定で，どのリンクから遷移してきたかを確認できる．そのため会社ごとに別のURLを配置し，公式LINE管理者（またはLステップで各シナリオを作成）が個別の内容を返信する？？
- **お気に入り一覧**:
  - お気に入り登録した企業・求人・インターンの一覧。

### 3.3. 管理者向け機能 【大幅追記】

- サイト運営者が利用する最上位の管理画面。
- 3、4人くらいが使用
- 権限分けはいらなさそう
- 管理者のログインは完全に違うページから行う

#### 3.3.1. ユーザー管理

- 学生、企業アカウントの一覧、詳細確認。
- アカウントの承認、公開/非公開の切り替え、削除
- 学生一覧（新着順）、最終ログインを知りたい
- 企業情報一覧（更新順）全企業と公開/非公開の表示切り替え、詳細、作成、更新、削除

#### 3.3.2. コンテンツ管理・承認

- 企業が登録・更新した企業情報や求人情報の内容を管理者が確認し、承認/差し戻しを行う。
- **お知らせ**
  - →大規模なイベント
  - これは管理者向けの画面で送る
  - →お気に入り企業の選考がスタート通知などをメールと画面で
- トップページは考える

#### 3.3.3. マスターデータ管理

- 「業界」「職種」「勤務地」「福利厚生」などの検索条件の選択肢を編集する機能。
- 初期段階ではsupabaseへのSQLで実現？

---

## 4. 主要データ構造（案）

- **Users**: Supabaseの `auth.users` を参照する公開プロフィールテーブル `profiles` を作成。
- **Companies**: 企業情報。
- **Jobs**: 求人・インターン情報 (`companies`テーブルへの外部キーを持つ)。
- **【追記】Favorites**: どの `user` がどの `job` や `company` をお気に入りにしたかを管理する中間テーブル。
- **【追記】Applications**: どの `user` がどの `job` に応募したかの活動ログを保存するテーブル。

---

## 5. 非機能要件

### 5.1. パフォーマンス

- 主要なページの表示速度は、LCP（Largest Contentful Paint）を3秒未満に抑える。

### 5.2. セキュリティ

- SupabaseのRLS (Row Level Security) を適切に設定し、ユーザーが権限のないデータにアクセスできないようにする。
- XSS、CSRF等の基本的なウェブ脆弱性対策を講じる。
- Auth0が提供する保護ページを使用．

### 5.3. デザインに関して

- 現状との比較

---

## 6. 改善点

- カード内部のセクション枠線
- 「インターン」からの詳細移動時は，「長期インターン」へ移動
- スマホ画面ではスライダ
- 詳細画面の構造化，デザイン（玉木さん依頼済）
- インターンカードのデザインも玉木さん依頼済